<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konecta - Chat</title>
    <link rel="stylesheet" href="../Css/index.css">
    <link rel="stylesheet" href="Css/chat.css">

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>

    <!-- Configuración -->
    <script src="../Js/firebaseConfig.js"></script>

    <!-- Tus scripts -->
    <script src="Js/login.js"></script>
    <script src="Js/register.js"></script>

</head>

<body>
    <div class="mockup-container">
        <!-- Marco del teléfono -->
        <div class="phone-mockup">
            <!-- Elementos del teléfono -->
            <div class="phone-speaker"></div>
            <div class="phone-camera"></div>
            <div class="phone-button left"></div>
            <div class="phone-button right-top"></div>
            <div class="phone-button right-bottom"></div>

            <!-- Pantalla del teléfono -->
            <div class="phone-screen">
                <!-- Barra de estado -->
                <div class="status-bar">
                    <div class="status-bar-time">12:30</div>
                    <div class="status-bar-icons">
                        <span class="icon wifi"></span>
                        <span class="icon signal"></span>
                        <span class="icon battery"></span>
                    </div>
                </div>

                <!-- Fondo animado (con opacidad reducida para el chat) -->
                <div class="connections chat-connections" id="connections"></div>

                <!-- Contenido principal -->
                <div class="app-container chat-container">
                    <!-- Vista de lista de chats (visible por defecto) -->
                    <div class="chat-list-view" id="chatListView">
                        <div class="chat-header">
                            <h2>Mensajes</h2>
                            <div class="header-actions">
                                <button class="icon-button search-btn">
                                    <div class="search-icon"></div>
                                </button>
                                <button class="icon-button new-chat-btn">
                                    <div class="new-chat-icon"></div>
                                </button>
                            </div>
                        </div>

                        <div class="chat-list">
                            <!-- Chat item 1 -->
                            <div class="chat-item" data-chat-id="1" data-name="María González M" data-status="online">
                                <div class="chat-avatar">
                                    <div class="avatar-placeholder">MG</div>
                                    <span class="status-indicator online"></span>
                                </div>
                                <div class="chat-info">
                                    <div class="chat-top-row">
                                        <h3 class="chat-name">María González</h3>
                                        <span class="chat-time">10:45 AM</span>
                                    </div>
                                    <div class="chat-bottom-row">
                                        <p class="chat-last-message">¡Hola! ¿Cómo va todo con el proyecto?</p>
                                        <div class="chat-badge">2</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat item 2 -->
                            <div class="chat-item" data-chat-id="2" data-name="Carlos Mendoza" data-status="offline">
                                <div class="chat-avatar">
                                    <div class="avatar-placeholder">CM</div>
                                    <span class="status-indicator offline"></span>
                                </div>
                                <div class="chat-info">
                                    <div class="chat-top-row">
                                        <h3 class="chat-name">Carlos Mendoza</h3>
                                        <span class="chat-time">Ayer</span>
                                    </div>
                                    <div class="chat-bottom-row">
                                        <p class="chat-last-message">Gracias por la información. Te contactaré mañana.</p>
                                        <div class="chat-badge read">✓</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat item 3 -->
                            <div class="chat-item" data-chat-id="3" data-name="Laura Sánchez" data-status="online">
                                <div class="chat-avatar">
                                    <div class="avatar-placeholder">LS</div>
                                    <span class="status-indicator online"></span>
                                </div>
                                <div class="chat-info">
                                    <div class="chat-top-row">
                                        <h3 class="chat-name">Laura Sánchez</h3>
                                        <span class="chat-time">12:20 PM</span>
                                    </div>
                                    <div class="chat-bottom-row">
                                        <p class="chat-last-message">¿Podemos reunirnos esta tarde para discutir el plan?</p>
                                        <div class="chat-badge">1</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat item 4 -->
                            <div class="chat-item" data-chat-id="4" data-name="Grupo Comunitario" data-status="group">
                                <div class="chat-avatar group-avatar">
                                    <div class="avatar-placeholder">GC</div>
                                </div>
                                <div class="chat-info">
                                    <div class="chat-top-row">
                                        <h3 class="chat-name">Grupo Comunitario</h3>
                                        <span class="chat-time">11:30 AM</span>
                                    </div>
                                    <div class="chat-bottom-row">
                                        <p class="chat-last-message"><span class="message-sender">Juan: </span>¿Alguien puede ayudar con la organización del evento?</p>
                                        <div class="chat-badge">5</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat item 5 -->
                            <div class="chat-item" data-chat-id="5" data-name="Soporte Técnico" data-status="online">
                                <div class="chat-avatar">
                                    <div class="avatar-placeholder">ST</div>
                                    <span class="status-indicator online"></span>
                                </div>
                                <div class="chat-info">
                                    <div class="chat-top-row">
                                        <h3 class="chat-name">Soporte Técnico</h3>
                                        <span class="chat-time">09:15 AM</span>
                                    </div>
                                    <div class="chat-bottom-row">
                                        <p class="chat-last-message">Su ticket #45678 ha sido resuelto. ¿Podría confirmar?</p>
                                        <div class="chat-badge read">✓</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Navegación inferior -->
                        <div class="bottom-nav">
                            <button class="nav-button active">
                                <div class="nav-icon messages-icon"></div>
                                <span>Mensajes</span>
                            </button>
                            <button class="nav-button">
                                <div class="nav-icon contacts-icon"></div>
                                <span>Contactos</span>
                            </button>
                            <button class="nav-button">
                                <div class="nav-icon profile-icon"></div>
                                <span>Perfil</span>
                            </button>
                        </div>
                    </div>

                    <!-- Vista de chat individual (oculta por defecto) -->
                    <div class="chat-detail-view" id="chatDetailView">
                        <div class="chat-detail-header">
                            <button class="back-button" id="backToList">
                                <div class="back-icon"></div>
                            </button>
                            <div class="chat-contact-info">
                                <h3 class="contact-name">María González</h3>
                                <span class="contact-status">En línea</span>
                            </div>
                            <button class="icon-button more-options-btn">
                                <div class="more-options-icon"></div>
                            </button>
                        </div>

                        <div class="messages-container" id="messagesContainer">
                            <!-- Los mensajes se cargarán dinámicamente desde Firebase -->
                            <div class="message-date">
                                <span>Hoy</span>
                            </div>
                        </div>

                        <div class="message-input-container">
                            <button class="attachment-button">
                                <div class="attachment-icon"></div>
                            </button>
                            <div class="message-input-wrapper">
                                <input type="text" id="messageInput" placeholder="Escribe un mensaje...">
                            </div>
                            <button class="send-button" id="sendMessage">
                                <div class="send-icon"></div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase Config -->
    <script src="../Js/firebaseConfig.js"></script>
    <script src="../Js/index.js"></script>
    <script src="../Js/chat.js"></script>



    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>

    <script>
        // 🔄 REEMPLAZA con tu configuración real desde Firebase Console
        const firebaseConfig = {
            apiKey: "AIzaSyBTbsFSstA_4mYG4E6FnB5o4Z2Nu_AqmHw",
            authDomain: "isabella-castro.firebaseapp.com",
            projectId: "isabella-castro",
            storageBucket: "isabella-castro.firebasestorage.app",
            messagingSenderId: "244493221667",
            appId: "1:244493221667:web:4d7707abb3f4a97cce9696",
            measurementId: "G-0TT9E180Y4"
        };

        // Inicializar Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
    </script>

</body>

</html>